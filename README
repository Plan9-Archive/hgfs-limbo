# status

usable for reading repositories.  the code can use some refinement.


# intro

hgfs serves the contents of a mercurial repository over styx.  see the
manual page hgfs(4) for more details.  the code for parsing the mercurial
repositories is in a separate library (though undocumented), and there
are a few more small programs that read various information from the
repositories (also undocumented).


# install

first, ensure a "mkconfig" file is present.  a bind/symlink to the
mkconfig of your inferno install should do.  create the directory
$ROOT/dis/hg.  now "mk install" to compile and install the files.

if you want to install hg/websrv, the http pull protocol server,
you'll need need "web":

	http://www.ueber.net/code/r/web

and a separate "mk install" in appl/cmd/cgi/.


# latest version

the latest version can be found at:

	http://www.ueber.net/code/r/hgfs


# licence & author

all files are in the public domain.  this code has been written by
mechiel lukkien, reachable at mechiel@ueber.net or mechiel@xs4all.nl.


# todo

- cgi/websrv: test with various client versions
- cgi/websrv: replace with a shell script.
- cgi/websrv: fix problem with cloning hgfs (r43)

- hg/fs: add another tree that lists .i(/.d) files.  reading them gives
  back revision numbers
- hg/fs: "default" in the listings is ugly.  it would make sense
  to name "default-tip" just "tip", but that's confusing with standard
  mercurial practice.  better solution?

- library: make proper binary diffs.  helps cgi/websrv.

- use more from nsz's excellent docs in his hgc, at https://sharesource.org/hg/hgc/
- think about other tools such as pull & clone.
